!: BOLT #VERSION#
!: ALLOW CONCURRENT

A: HELLO {"{}": "*"}
*: RESET
{+
    {{
        C: RUN "RETURN 1 as n" {} {"mode": "r"}
        S: SUCCESS {"fields": ["n"]}
        C: PULL {"n": 1000}
        S: FAILURE {"code": "Neo.ClientError.Security.AuthorizationExpired", "message": "Authorization expired"}
           <EXIT>
    ----
        C: RUN "RETURN 2 as n" {} {"mode": "r"}
        S: SUCCESS {"fields": ["n"]}
        {+
            C: PULL {"n": 1}
            S: RECORD [1]
               SUCCESS {"type": "r", "has_more": true}
        +}
        C: DISCARD {"n": -1}
        S: SUCCESS {}
    ----
        C: RUN "RETURN 3 as n" {} {"mode": "r"}
        S: SUCCESS {"fields": ["n"]}
        C: PULL {"n": "*"}
        S: RECORD [1]
           SUCCESS {"type": "r"}
    }}
    *: RESET
+}
?: GOODBYE
