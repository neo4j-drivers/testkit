!: BOLT #VERSION#
!: AUTO HELLO
!: AUTO GOODBYE
!: AUTO RESET
!: ALLOW CONCURRENT

{+
    {{
        C: RUN "RETURN 1 as n" {} {"mode": "r"}
           PULL {"n": 1000}
        S: SUCCESS {"fields": ["n"]}
           FAILURE {"code": "Neo.ClientError.Security.AuthorizationExpired", "message": "Authorization expired"}
        S: <EXIT>
    ----
        C: RUN "RETURN 2 as n" {} {"mode": "r"}
        S: SUCCESS {"fields": ["n"]}
        {+
            C: PULL {"n": 1}
            S: RECORD [1]
               SUCCESS {"type": "r", "has_more": true}
        +}
        C: DISCARD {"n": -1}
        S: SUCCESS {}
    ----
        C: RUN "RETURN 3 as n" {} {"mode": "r"}
           PULL {"n": "*"}
        S: SUCCESS {"fields": ["n"]}
           RECORD [1]
           SUCCESS {"type": "r"}
    ----
        C: BEGIN {"mode": "r"}
        S: SUCCESS {}

        C: RUN "RETURN 4 as n" {} {}
        S: SUCCESS {"fields": ["n"]}
        C: PULL {"n": "*"}
        S: RECORD [1]
           SUCCESS {"type": "r"}

        C: RUN "RETURN 4 as n" {} {}
        S: SUCCESS {"fields": ["n"]}
        C: PULL {"n": "*"}
        S: RECORD [1]
           SUCCESS {"type": "r"}

        C: RUN "RETURN 4 as n" {} {}
        S: SUCCESS {"fields": ["n"]}
        C: PULL {"n": "*"}
        S: RECORD [1]
           SUCCESS {"type": "r"}

        C: COMMIT
        S: SUCCESS {}
    }}
+}
